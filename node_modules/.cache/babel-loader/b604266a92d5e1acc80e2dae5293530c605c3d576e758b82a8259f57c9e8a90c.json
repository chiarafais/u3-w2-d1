{"ast":null,"code":"var _jsxFileName = \"/Users/chiarafais/Desktop/EPICODE WEEK 10 REACT/u3-w2-d1 /src/Components/AddComment.jsx\";\nimport { Component } from \"react\";\nimport { Container, Form } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AddComment extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      newComment: {\n        comment: \"\",\n        rate: \"\",\n        elementId: this.props.idSingleBook\n      },\n      isLoading: false\n    };\n    this.addComment = (props, e) => {\n      e.preventDefault();\n      this.setState({\n        isLoading: true\n      });\n      fetch(\"https://striveschool-api.herokuapp.com/api/comments/\", {\n        method: \"POST\",\n        body: JSON.stringify(this.state.newComment),\n        headers: {\n          Authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NjJjZjYzYTMzNzk3OTAwMTlhNjcyNTAiLCJpYXQiOjE3MTQzOTEyNjIsImV4cCI6MTcxNTYwMDg2Mn0.p_DxmR81uvCGaq90fsbUdh_sC-2wkkwies_89d85X88\",\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {\n        if (response.ok) {\n          this.setState({\n            newComment: {\n              comment: \"\",\n              rate: \"\",\n              elementId: \"\"\n            },\n            isLoading: false\n          });\n          console.log(\"fetch conclusa\");\n          return response.json();\n        } else {\n          throw new Error(\"Errore nella richiesta delle prenotazioni al server\");\n        }\n      }).then(comment => {\n        console.log(comment);\n      }).catch(err => {\n        console.log(err);\n      }).finally(() => this.setState({\n        isLoading: false\n      }));\n    };\n    this.handleFieldChange = (propertyName, propertyValue) => {\n      this.setState({\n        comment: {\n          ...this.state.newComment,\n          [propertyName]: propertyValue\n        }\n      });\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        children: \"Aggiungi Recensione:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: this.addComment,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"FormComment\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Commento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Inserisci una recensione\",\n              onChange: e => this.handleFieldChange(\"comment\", e.target.value),\n              value: this.state.newComment.comment,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"FormRate\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Valutazione:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\",\n              min: 1,\n              max: 5,\n              placeholder: \"Valutazione:\",\n              onChange: e => this.handleFieldChange(\"rate\", e.target.value),\n              value: this.state.newComment.rate,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), this.state.isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center loaderContainer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default AddComment;","map":{"version":3,"names":["Component","Container","Form","jsxDEV","_jsxDEV","AddComment","constructor","args","state","newComment","comment","rate","elementId","props","idSingleBook","isLoading","addComment","e","preventDefault","setState","fetch","method","body","JSON","stringify","headers","Authorization","then","response","ok","console","log","json","Error","catch","err","finally","handleFieldChange","propertyName","propertyValue","render","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Group","className","controlId","Label","Control","type","placeholder","onChange","target","value","required","min","max"],"sources":["/Users/chiarafais/Desktop/EPICODE WEEK 10 REACT/u3-w2-d1 /src/Components/AddComment.jsx"],"sourcesContent":["import { Component } from \"react\";\nimport { Container, Form } from \"react-bootstrap\";\n\nclass AddComment extends Component {\n  state = {\n    newComment: {\n      comment: \"\",\n      rate: \"\",\n      elementId: this.props.idSingleBook,\n    },\n    isLoading: false,\n  };\n  addComment = (props, e) => {\n    e.preventDefault();\n    this.setState({ isLoading: true });\n    fetch(\"https://striveschool-api.herokuapp.com/api/comments/\", {\n      method: \"POST\",\n      body: JSON.stringify(this.state.newComment),\n      headers: {\n        Authorization:\n          \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NjJjZjYzYTMzNzk3OTAwMTlhNjcyNTAiLCJpYXQiOjE3MTQzOTEyNjIsImV4cCI6MTcxNTYwMDg2Mn0.p_DxmR81uvCGaq90fsbUdh_sC-2wkkwies_89d85X88\",\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        if (response.ok) {\n          this.setState({\n            newComment: {\n              comment: \"\",\n              rate: \"\",\n              elementId: \"\",\n            },\n            isLoading: false,\n          });\n\n          console.log(\"fetch conclusa\");\n          return response.json();\n        } else {\n          throw new Error(\"Errore nella richiesta delle prenotazioni al server\");\n        }\n      })\n      .then((comment) => {\n        console.log(comment);\n      })\n\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n  handleFieldChange = (propertyName, propertyValue) => {\n    this.setState({ comment: { ...this.state.newComment, [propertyName]: propertyValue } });\n  };\n  render() {\n    return (\n      <div>\n        <h6>Aggiungi Recensione:</h6>\n        <Container>\n          <Form onSubmit={this.addComment}>\n            <Form.Group className=\"mb-3\" controlId=\"FormComment\">\n              <Form.Label>Commento</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Inserisci una recensione\"\n                onChange={(e) => this.handleFieldChange(\"comment\", e.target.value)}\n                value={this.state.newComment.comment}\n                required\n              />\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"FormRate\">\n              <Form.Label>Valutazione:</Form.Label>\n              <Form.Control\n                type=\"number\"\n                min={1}\n                max={5}\n                placeholder=\"Valutazione:\"\n                onChange={(e) => this.handleFieldChange(\"rate\", e.target.value)}\n                value={this.state.newComment.rate}\n                required\n              />\n            </Form.Group>\n          </Form>\n        </Container>\n        {this.state.isLoading && <div className=\"text-center loaderContainer\"></div>}\n      </div>\n    );\n  }\n}\nexport default AddComment;\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,SAAS,EAAEC,IAAI,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,UAAU,SAASL,SAAS,CAAC;EAAAM,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KACjCC,KAAK,GAAG;MACNC,UAAU,EAAE;QACVC,OAAO,EAAE,EAAE;QACXC,IAAI,EAAE,EAAE;QACRC,SAAS,EAAE,IAAI,CAACC,KAAK,CAACC;MACxB,CAAC;MACDC,SAAS,EAAE;IACb,CAAC;IAAA,KACDC,UAAU,GAAG,CAACH,KAAK,EAAEI,CAAC,KAAK;MACzBA,CAAC,CAACC,cAAc,CAAC,CAAC;MAClB,IAAI,CAACC,QAAQ,CAAC;QAAEJ,SAAS,EAAE;MAAK,CAAC,CAAC;MAClCK,KAAK,CAAC,sDAAsD,EAAE;QAC5DC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAAChB,KAAK,CAACC,UAAU,CAAC;QAC3CgB,OAAO,EAAE;UACPC,aAAa,EACX,qLAAqL;UACvL,cAAc,EAAE;QAClB;MACF,CAAC,CAAC,CACCC,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAIA,QAAQ,CAACC,EAAE,EAAE;UACf,IAAI,CAACV,QAAQ,CAAC;YACZV,UAAU,EAAE;cACVC,OAAO,EAAE,EAAE;cACXC,IAAI,EAAE,EAAE;cACRC,SAAS,EAAE;YACb,CAAC;YACDG,SAAS,EAAE;UACb,CAAC,CAAC;UAEFe,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;UAC7B,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;QACxB,CAAC,MAAM;UACL,MAAM,IAAIC,KAAK,CAAC,qDAAqD,CAAC;QACxE;MACF,CAAC,CAAC,CACDN,IAAI,CAAEjB,OAAO,IAAK;QACjBoB,OAAO,CAACC,GAAG,CAACrB,OAAO,CAAC;MACtB,CAAC,CAAC,CAEDwB,KAAK,CAAEC,GAAG,IAAK;QACdL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC;MAClB,CAAC,CAAC,CACDC,OAAO,CAAC,MAAM,IAAI,CAACjB,QAAQ,CAAC;QAAEJ,SAAS,EAAE;MAAM,CAAC,CAAC,CAAC;IACvD,CAAC;IAAA,KACDsB,iBAAiB,GAAG,CAACC,YAAY,EAAEC,aAAa,KAAK;MACnD,IAAI,CAACpB,QAAQ,CAAC;QAAET,OAAO,EAAE;UAAE,GAAG,IAAI,CAACF,KAAK,CAACC,UAAU;UAAE,CAAC6B,YAAY,GAAGC;QAAc;MAAE,CAAC,CAAC;IACzF,CAAC;EAAA;EACDC,MAAMA,CAAA,EAAG;IACP,oBACEpC,OAAA;MAAAqC,QAAA,gBACErC,OAAA;QAAAqC,QAAA,EAAI;MAAoB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7BzC,OAAA,CAACH,SAAS;QAAAwC,QAAA,eACRrC,OAAA,CAACF,IAAI;UAAC4C,QAAQ,EAAE,IAAI,CAAC9B,UAAW;UAAAyB,QAAA,gBAC9BrC,OAAA,CAACF,IAAI,CAAC6C,KAAK;YAACC,SAAS,EAAC,MAAM;YAACC,SAAS,EAAC,aAAa;YAAAR,QAAA,gBAClDrC,OAAA,CAACF,IAAI,CAACgD,KAAK;cAAAT,QAAA,EAAC;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACjCzC,OAAA,CAACF,IAAI,CAACiD,OAAO;cACXC,IAAI,EAAC,MAAM;cACXC,WAAW,EAAC,0BAA0B;cACtCC,QAAQ,EAAGrC,CAAC,IAAK,IAAI,CAACoB,iBAAiB,CAAC,SAAS,EAAEpB,CAAC,CAACsC,MAAM,CAACC,KAAK,CAAE;cACnEA,KAAK,EAAE,IAAI,CAAChD,KAAK,CAACC,UAAU,CAACC,OAAQ;cACrC+C,QAAQ;YAAA;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACQ,CAAC,eACbzC,OAAA,CAACF,IAAI,CAAC6C,KAAK;YAACC,SAAS,EAAC,MAAM;YAACC,SAAS,EAAC,UAAU;YAAAR,QAAA,gBAC/CrC,OAAA,CAACF,IAAI,CAACgD,KAAK;cAAAT,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACrCzC,OAAA,CAACF,IAAI,CAACiD,OAAO;cACXC,IAAI,EAAC,QAAQ;cACbM,GAAG,EAAE,CAAE;cACPC,GAAG,EAAE,CAAE;cACPN,WAAW,EAAC,cAAc;cAC1BC,QAAQ,EAAGrC,CAAC,IAAK,IAAI,CAACoB,iBAAiB,CAAC,MAAM,EAAEpB,CAAC,CAACsC,MAAM,CAACC,KAAK,CAAE;cAChEA,KAAK,EAAE,IAAI,CAAChD,KAAK,CAACC,UAAU,CAACE,IAAK;cAClC8C,QAAQ;YAAA;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EACX,IAAI,CAACrC,KAAK,CAACO,SAAS,iBAAIX,OAAA;QAAK4C,SAAS,EAAC;MAA6B;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzE,CAAC;EAEV;AACF;AACA,eAAexC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}